{ lib, config, ... }:

{

  options = {
    autorandr.enable = lib.mkEnableOption "Enables autorandr";
  };

  config = lib.mkIf config.autorandr.enable {
    programs.autorandr = {
      enable = true;
      profiles = {
        "docked" = {
          fingerprint = {
            DP-2 = "00ffffffffffff0006b3b127d7c801002f1b0104a53c227806ee91a3544c99260f505421080001010101010101010101010101010101565e00a0a0a029503020350056502100001a000000ff002341534f382b2f7a735a724c64000000fd001e9022de3b010a202020202020000000fc00524f4720504732373851520a20016a020312412309070183010000654b040001015a8700a0a0a03b503020350056502100001a5aa000a0a0a046503020350056502100001a6fc200a0a0a055503020350056502100001a22e50050a0a0675008203a0056502100001e1c2500a0a0a011503020350056502100001a0000000000000000000000000000000000000019";
            DP-4 = "00ffffffffffff001e6d0777c09704000c200104b53c22789f3e31ae5047ac270c50542108007140818081c0a9c0d1c08100010101014dd000a0f0703e803020650c58542100001a286800a0f0703e800890650c58542100001a000000fd00283d878738010a202020202020000000fc004c472048445220344b0a20202001aa02031c7144900403012309070783010000e305c000e6060501605550023a801871382d40582c450058542100001e565e00a0a0a029503020350058542100001a0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001e";
            eDP-1-1 = "00ffffffffffff0009e5ca0b000000002f200104a51c137803de50a3544c99260f505400000001010101010101010101010101010101115cd01881e02d50302036001dbe1000001aa749d01881e02d50302036001dbe1000001a000000fe00424f452043510a202020202020000000fe004e4531333546424d2d4e34310a0073";
          };
          config = {
            eDP-1.enable = false;
            DP-2 = {
              enable = true;
              crtc = 0;
              primary = true;
              position = "3840x360";
              mode = "2560x1440";
              rate = "144.00";
            };
            DP-4 = {
              enable = true;
              crtc = 1;
              position = "0x0";
              mode = "3840x2160";
              rate = "60.00";
            };
          };
        };
        "undocked" = {
          fingerprint = {
            eDP-1 = "00ffffffffffff0009e5ca0b000000002f200104a51c137803de50a3544c99260f505400000001010101010101010101010101010101115cd01881e02d50302036001dbe1000001aa749d01881e02d50302036001dbe1000001a000000fe00424f452043510a202020202020000000fe004e4531333546424d2d4e34310a0073";
          };
          config = {
            eDP-1 = {
              enable = true;
              crtc = 0;
              primary = true;
              position = "0x0";
              mode = "2256x1504";
              rate = "60.00";
            };
          };
        };
      };
    };
    services.autorandr.enable = true;
  };
}
